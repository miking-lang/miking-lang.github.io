"use strict";(self.webpackChunkmiking_lang_github_io=self.webpackChunkmiking_lang_github_io||[]).push([[78],{3905:function(e,n,t){t.d(n,{Zo:function(){return m},kt:function(){return h}});var a=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=a.createContext({}),p=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},m=function(e){var n=p(e.components);return a.createElement(s.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),d=p(t),h=i,u=d["".concat(s,".").concat(h)]||d[h]||c[h]||o;return t?a.createElement(u,r(r({ref:n},m),{},{components:t})):a.createElement(u,r({ref:n},m))}));function h(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=t.length,r=new Array(o);r[0]=d;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,r[1]=l;for(var p=2;p<o;p++)r[p]=t[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},8516:function(e,n,t){t.r(n),t.d(n,{contentTitle:function(){return g},default:function(){return N},frontMatter:function(){return k},metadata:function(){return v},toc:function(){return f}});var a=t(7462),i=t(3366),o=t(7294),r=t(3905),l=t(2389),s=t(9548),p=t(6010),m="tabItem_LplD";function c(e){var n,t,i,r=e.lazy,l=e.block,c=e.defaultValue,d=e.values,h=e.groupId,u=e.className,k=o.Children.map(e.children,(function(e){if((0,o.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),g=null!=d?d:k.map((function(e){var n=e.props;return{value:n.value,label:n.label,attributes:n.attributes}})),v=(0,s.lx)(g,(function(e,n){return e.value===n.value}));if(v.length>0)throw new Error('Docusaurus error: Duplicate values "'+v.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var f=null===c?c:null!=(n=null!=c?c:null==(t=k.find((function(e){return e.props.default})))?void 0:t.props.value)?n:null==(i=k[0])?void 0:i.props.value;if(null!==f&&!g.some((function(e){return e.value===f})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+f+'" but none of its children has the corresponding value. Available values are: '+g.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var w=(0,s.UB)(),N=w.tabGroupChoices,b=w.setTabGroupChoices,y=(0,o.useState)(f),x=y[0],M=y[1],C=[],T=(0,s.o5)().blockElementScrollPositionUntilNextRender;if(null!=h){var I=N[h];null!=I&&I!==x&&g.some((function(e){return e.value===I}))&&M(I)}var O=function(e){var n=e.currentTarget,t=C.indexOf(n),a=g[t].value;a!==x&&(T(n),M(a),null!=h&&b(h,a))},D=function(e){var n,t=null;switch(e.key){case"ArrowRight":var a=C.indexOf(e.currentTarget)+1;t=C[a]||C[0];break;case"ArrowLeft":var i=C.indexOf(e.currentTarget)-1;t=C[i]||C[C.length-1]}null==(n=t)||n.focus()};return o.createElement("div",{className:"tabs-container"},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,p.Z)("tabs",{"tabs--block":l},u)},g.map((function(e){var n=e.value,t=e.label,i=e.attributes;return o.createElement("li",(0,a.Z)({role:"tab",tabIndex:x===n?0:-1,"aria-selected":x===n,key:n,ref:function(e){return C.push(e)},onKeyDown:D,onFocus:O,onClick:O},i,{className:(0,p.Z)("tabs__item",m,null==i?void 0:i.className,{"tabs__item--active":x===n})}),null!=t?t:n)}))),r?(0,o.cloneElement)(k.filter((function(e){return e.props.value===x}))[0],{className:"margin-vert--md"}):o.createElement("div",{className:"margin-vert--md"},k.map((function(e,n){return(0,o.cloneElement)(e,{key:n,hidden:e.props.value!==x})}))))}function d(e){var n=(0,l.Z)();return o.createElement(c,(0,a.Z)({key:String(n)},e))}var h=function(e){var n=e.children,t=e.hidden,a=e.className;return o.createElement("div",{role:"tabpanel",hidden:t,className:a},n)},u=["components"],k={},g="Miking Workshop 2022: Install Miking",v={type:"mdx",permalink:"/workshop-2022-install",source:"@site/src/pages/workshop-2022-install.md",title:"Miking Workshop 2022: Install Miking",description:"We currently support two methods of installing Miking:",frontMatter:{}},f=[{value:"Native Install with Opam (Mac, Linux)",id:"native-install-with-opam-mac-linux",children:[],level:2},{value:"Install with Docker (Windows, Mac, Linux)",id:"install-with-docker-windows-mac-linux",children:[{value:"Example Launch Scripts",id:"example-launch-scripts",children:[],level:3}],level:2},{value:"Install Syntax Highlighter",id:"install-syntax-highlighter",children:[],level:2}],w={toc:f};function N(e){var n=e.components,t=(0,i.Z)(e,u);return(0,r.kt)("wrapper",(0,a.Z)({},w,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"miking-workshop-2022-install-miking"},"Miking Workshop 2022: Install Miking"),(0,r.kt)("p",null,"We currently support two methods of installing Miking:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Natively installed binary using the Opam package manager. (Mac, Linux)"),(0,r.kt)("li",{parentName:"ol"},"Pre-built Docker images with optional dependencies included. (Windows, Mac, Linux)")),(0,r.kt)("p",null,"For basic usage of Miking with a limited set of dependencies, we recommend the\nfirst option. If any of the extended Miking features are required, or if Opam\nis not suitable for your system, then we recommend installing one of the Docker\nimages."),(0,r.kt)("p",null,"We also provide syntax highlighting for some of the popular editors. See the\n",(0,r.kt)("a",{parentName:"p",href:"#install-syntax-highlighter"},"Install Syntax Highlighter")," section for more\ninformation."),(0,r.kt)("h2",{id:"native-install-with-opam-mac-linux"},"Native Install with Opam (Mac, Linux)"),(0,r.kt)("p",null,"For native install, ",(0,r.kt)("inlineCode",{parentName:"p"},"opam")," is required and ",(0,r.kt)("inlineCode",{parentName:"p"},"make")," is highly\nrecommended."),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Install Opam")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"See the ",(0,r.kt)("a",{parentName:"p",href:"https://opam.ocaml.org/doc/Install.html"},"Opam installation guide")," for\nhow to install Opam on Mac or on your Linux distribution:\n",(0,r.kt)("a",{parentName:"p",href:"https://opam.ocaml.org/doc/Install.html"},"Link")))),(0,r.kt)("p",null,"Create the Opam 4.14.0 switch named ",(0,r.kt)("inlineCode",{parentName:"p"},"miking-workshop"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"opam update\nopam switch create miking-workshop 4.14.0\neval $(opam env)\n")),(0,r.kt)("p",null,"Install required dependencies:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"opam install dune linenoise sundialsml\n")),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"You will not be able to complete the last part of Tutorial 2 without\n",(0,r.kt)("inlineCode",{parentName:"p"},"sundialsml"),". If you cannot install ",(0,r.kt)("inlineCode",{parentName:"p"},"sundialsml")," on your system and still wish\nto complete the last part of Tutorial 2, we suggest using Docker instead."))),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Optional Dependencies")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Many features in the standard library will not work without these additional\ndependencies. See the tab for your platform for more instructions."),(0,r.kt)(d,{mdxType:"Tabs"},(0,r.kt)(h,{value:"optdep-linux",label:"Linux",default:!0,mdxType:"TabItem"},(0,r.kt)("p",{parentName:"div"},"Install the dependencies with Opam:"),(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre"},"opam install pyml toml lwt owl ocamlformat.0.24.1\n")),(0,r.kt)("p",{parentName:"div"},"Opam should invoke your distribution's package manager if there are any\nadditional dependencies needed.")),(0,r.kt)(h,{value:"optdep-macos-x86",label:"Mac (Intel x86)",mdxType:"TabItem"},(0,r.kt)("p",{parentName:"div"},"It might be necessary to add openblas to the pkg-config path if installed with\nHomebrew. Replace ",(0,r.kt)("inlineCode",{parentName:"p"},"/usr/local")," in the ",(0,r.kt)("inlineCode",{parentName:"p"},"PKG_CONFIG_PATH")," variable below with\nyour Homebrew prefix if they differ."),(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'# Install openblas\nbrew install openblas\n\n# Double check if /usr/local is what your Homebrew installation uses as its\n# prefix. Change if it is different.\nexport PKG_CONFIG_PATH="/usr/local/opt/openblas/lib/pkgconfig:${PKG_CONFIG_PATH}"\n\n# Now install the dependencies with Opam:\nopam install pyml toml lwt owl ocamlformat.0.24.1\n'))),(0,r.kt)(h,{value:"optdep-macos-arm64",label:"Mac (Apple Silicon)",mdxType:"TabItem"},(0,r.kt)("p",{parentName:"div"},"Before installing the Opam packages, it is most likely necessary to perform\nthe following steps before proceeding with the installation:"),(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# Install gcc and openblas\nbrew install gcc openblas\n\n# Make sure that you have gcc as your cc compiler (change version from 12 to\n# your GCC version if it is different)\ncd $HOMEBREW_PREFIX/bin && ln -s gcc-12 cc\n")),(0,r.kt)("p",{parentName:"div"},"Now verify that your ",(0,r.kt)("inlineCode",{parentName:"p"},"cc")," compiler points to the correct location by running\n",(0,r.kt)("inlineCode",{parentName:"p"},"which cc"),". ",(0,r.kt)("strong",{parentName:"p"},"You might need to open a new terminal window for this.")),(0,r.kt)("p",{parentName:"div"},"Once ",(0,r.kt)("inlineCode",{parentName:"p"},"cc")," points to the correct location, run the following commands to install\nthe remaining dependencies:"),(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'export PKG_CONFIG_PATH="$HOMEBREW_PREFIX/opt/openblas/lib/pkgconfig:${PKG_CONFIG_PATH}"\nexport OWL_CFLAGS="-g -O3 -Ofast -funroll-loops -ffast-math -DSFMT_MEXP=19937 -fno-strict-aliasing -Wno-tautological-constant-out-of-range-compare"\nexport OWL_AEOS_CFLAGS="-g -O3 -Ofast -funroll-loops -ffast-math -DSFMT_MEXP=19937 -fno-strict-aliasing"\nexport EIGENCPP_OPTFLAGS="-Ofast -funroll-loops -ffast-math"\nexport EIGEN_FLAGS="-O3 -Ofast -funroll-loops -ffast-math"\n\n# If opened a new terminal window, make sure to run `eval $(opam env)` first\n\nopam install pyml toml lwt owl ocamlformat.0.24.1\n')),(0,r.kt)("p",{parentName:"div"},"You can now remove the ",(0,r.kt)("inlineCode",{parentName:"p"},"cc")," symlink created earlier."))))),(0,r.kt)("p",null,"Clone the Miking git repository to a suitable location on your system and enter\nthe directory:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"git clone https://github.com/miking-lang/miking.git\ncd miking\n")),(0,r.kt)("p",null,"If you do not have ",(0,r.kt)("inlineCode",{parentName:"p"},"git")," installed on your system then you can manually\ndownload a zip file with the source code from our GitHub page:\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/miking-lang/miking/archive/refs/heads/develop.zip"},"https://github.com/miking-lang/miking/archive/refs/heads/develop.zip")),(0,r.kt)("p",null,"Assuming that you have downloaded the repository and are currently located in\nthat directory, then you can either install Miking on your system with ",(0,r.kt)("inlineCode",{parentName:"p"},"make"),"\nor directly using your shell:"),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Install Miking")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)(d,{mdxType:"Tabs"},(0,r.kt)(h,{value:"mi-install-makefile",label:"Makefile",default:!0,mdxType:"TabItem"},(0,r.kt)("p",{parentName:"div"},"With ",(0,r.kt)("inlineCode",{parentName:"p"},"make")," available, you can install Miking as:"),(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre"},"make install\n"))),(0,r.kt)(h,{value:"mi-install-shell",label:"Shell",mdxType:"TabItem"},(0,r.kt)("p",{parentName:"div"},"If ",(0,r.kt)("inlineCode",{parentName:"p"},"make")," is not available on your system, then you can directly install Miking\nby running the provided ",(0,r.kt)("inlineCode",{parentName:"p"},"./make")," shell script as:"),(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre"},"./make boot && ./make install-boot && ./make && ./make install\n")))))),(0,r.kt)("p",null,"This will install the ",(0,r.kt)("inlineCode",{parentName:"p"},"mi")," binary under ",(0,r.kt)("inlineCode",{parentName:"p"},"$HOME/.local/bin"),", as well as the\nstandard library under ",(0,r.kt)("inlineCode",{parentName:"p"},"$HOME/.local/lib"),". If not already, make sure that\n",(0,r.kt)("inlineCode",{parentName:"p"},"$HOME/.local/bin")," is on your shell's PATH by running the following command\ndirectly or adding it to the appropriate .rc-file (e.g. ",(0,r.kt)("inlineCode",{parentName:"p"},".bashrc")," or ",(0,r.kt)("inlineCode",{parentName:"p"},".zshrc"),"):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'export PATH="$HOME/.local/bin:$PATH"\n')),(0,r.kt)("h2",{id:"install-with-docker-windows-mac-linux"},"Install with Docker (Windows, Mac, Linux)"),(0,r.kt)("p",null,"Before running the Docker image you must ensure that Docker is installed."),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Install Docker on Your Platform")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)(d,{mdxType:"Tabs"},(0,r.kt)(h,{value:"docker-windows",label:"Windows",default:!0,mdxType:"TabItem"},"For Windows you will need to install the Docker Desktop application. See ",(0,r.kt)("a",{href:"https://docs.docker.com/desktop/install/windows-install"},"this page")," for more info. After installing it will most likely ask you to install Windows Subsystem for Linux (WSL) if you haven't already. This will require a restart of your computer.",(0,r.kt)("p",{parentName:"div"},"With Docker Desktop installed and running, you should have access to the ",(0,r.kt)("inlineCode",{parentName:"p"},"docker")," command from PowerShell."),(0,r.kt)("div",{class:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{class:"admonition-heading"},(0,r.kt)("span",{class:"admonition-icon"},(0,r.kt)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{"fill-rule":"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),(0,r.kt)("b",null,"Make sure that the Docker Desktop application is running.")," The ",(0,r.kt)("code",null,"docker")," command will not work otherwise."))),(0,r.kt)(h,{value:"docker-mac",label:"Mac",mdxType:"TabItem"},"For Mac you will need to install the Docker Desktop application. See ",(0,r.kt)("a",{href:"https://docs.docker.com/desktop/install/mac-install"},"this page")," for more info. Make sure that you know if you are running an older Mac with Intel chip or a newer one with Apple Silicon (e.g. M1). Download the appropriate Docker Desktop release.",(0,r.kt)("br",null),(0,r.kt)("br",null),(0,r.kt)("div",{class:"admonition admonition-warning alert alert--warning"},(0,r.kt)("span",{class:"admonition-icon"},(0,r.kt)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{"fill-rule":"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),(0,r.kt)("b",null,"Due to the current performance of Docker on Mac, we recommend using Opam if possible.")),"Now install the CLI interface for Docker using ",(0,r.kt)("a",{href:"https://docs.brew.sh/Installation"},"Homebrew"),":",(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre"},"brew install docker\n")),(0,r.kt)("p",{parentName:"div"},"Now you should be able to run Docker containers from the terminal through the ",(0,r.kt)("inlineCode",{parentName:"p"},"docker")," command, given that the Docker Desktop application is running."),(0,r.kt)("div",{class:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{class:"admonition-heading"},(0,r.kt)("span",{class:"admonition-icon"},(0,r.kt)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{"fill-rule":"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),(0,r.kt)("b",null,"Make sure that the Docker Desktop application is running.")," The ",(0,r.kt)("code",null,"docker")," command will not work otherwise."))),(0,r.kt)(h,{value:"docker-linux",label:"Linux",mdxType:"TabItem"},"For Linux we recommend using Docker Engine. See ",(0,r.kt)("a",{href:"https://docs.docker.com/engine/install"},"this page")," for more information about how to install Docker Engine for your Linux distribution.",(0,r.kt)("br",null),(0,r.kt)("br",null),"If using Arch Linux or one of its derivatives, follow the instructions on the Arch Wiki page (",(0,r.kt)("a",{href:"https://wiki.archlinux.org/title/Docker"},"link"),") instead.",(0,r.kt)("br",null),(0,r.kt)("br",null),(0,r.kt)("p",{parentName:"div"},"It is possible that your Docker Engine process is running with root privileges. ",(0,r.kt)("strong",{parentName:"p"},"In this case you will need to run all commands below with ",(0,r.kt)("inlineCode",{parentName:"strong"},"sudo")," or add yourself to the docker group.")," If unsure, try running a Docker command without ",(0,r.kt)("inlineCode",{parentName:"p"},"sudo")," first."))))),(0,r.kt)("p",null,"Fetch the image by downloading it from Docker Hub:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"docker pull mikinglang/workshop\n")),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"An executable built inside the Docker container should only be executed inside the Docker container."))),(0,r.kt)("p",null,"Now you can run the Docker image as:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"docker run --rm -it mikinglang/workshop bash\n")),(0,r.kt)("p",null,"This will launch the miking Docker image with a bash shell where you have\naccess to the ",(0,r.kt)("inlineCode",{parentName:"p"},"mi")," command. The standard Docker image is based on Alpine and\nif additional features are desired within the Docker container such as an\neditor then they can be installed with the ",(0,r.kt)("inlineCode",{parentName:"p"},"apk")," package manager."),(0,r.kt)("p",null,"All dependencies necessary for rebuilding the Miking compiler is also included\nin the Docker image should you wish to do any modifications. You will also find\nthe Miking source code under ",(0,r.kt)("inlineCode",{parentName:"p"},"/src/miking")," included in the image."),(0,r.kt)("h3",{id:"example-launch-scripts"},"Example Launch Scripts"),(0,r.kt)("p",null,"The entire Docker run command can be a bit cumbersome to type every time you\nwant to compile something with Miking. We recommend wrapping the Docker run\ncommand in a script, for example:"),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"Docker Helper scripts")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)(d,{mdxType:"Tabs"},(0,r.kt)(h,{value:"dockerlaunch-makefile",label:"Makefile",default:!0,mdxType:"TabItem"},(0,r.kt)("p",{parentName:"div"},"Using GNU Make to launch the image with ",(0,r.kt)("inlineCode",{parentName:"p"},"make run-docker"),":"),(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre",className:"language-makefile",metastring:'title="Makefile"',title:'"Makefile"'},'run-docker:\n    $(eval IMAGE := mikinglang/workshop:2022-1)\n    $(eval CONTAINERNAME := hello-miking)\n    $(eval PWD := $(shell pwd))\n    docker run --name $(CONTAINERNAME)     \\\n               --hostname $(CONTAINERNAME) \\\n               --rm -it                    \\\n               -v "$(PWD):/mnt:ro"         \\\n               $(IMAGE) bash\n')),(0,r.kt)("p",{parentName:"div"},"This will mount the directory where the Makefile is located under ",(0,r.kt)("inlineCode",{parentName:"p"},"/mnt"),". If\nyou also wish to write data to the same directory then this can be done by\nremoving the ",(0,r.kt)("inlineCode",{parentName:"p"},":ro")," part."),(0,r.kt)("p",{parentName:"div"},"If you need to run Docker with ",(0,r.kt)("inlineCode",{parentName:"p"},"sudo"),", then either prepend the ",(0,r.kt)("inlineCode",{parentName:"p"},"docker run"),"\nin the Makefile rule with ",(0,r.kt)("inlineCode",{parentName:"p"},"sudo")," or instead run ",(0,r.kt)("inlineCode",{parentName:"p"},"sudo make docker-run"),".")),(0,r.kt)(h,{value:"dockerlaunch-bash",label:"Bash",default:!0,mdxType:"TabItem"},(0,r.kt)("p",{parentName:"div"},"Using a Bash script launch the image with ",(0,r.kt)("inlineCode",{parentName:"p"},"./midock.sh"),":"),(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="midock.sh"',title:'"midock.sh"'},'#!/usr/bin/env bash\n\nIMAGE=\'mikinglang/workshop:2022-1\'\nCONTAINERNAME=\'hello-miking\'\n\n# This can be used to help you specify relative directory to the Bash\n# script itself.\nRELDIR="$(cd "$(dirname "$BASH_SOURCE")" >/dev/null 2>&1; pwd)"\n\nexec docker run --name ${CONTAINERNAME}     \\\n                --hostname ${CONTAINERNAME} \\\n                --rm -it                    \\\n                -v "$(pwd):/mnt:ro"         \\\n                ${IMAGE} bash\n')),(0,r.kt)("p",{parentName:"div"},"Make it executable by running ",(0,r.kt)("inlineCode",{parentName:"p"},"chmod +x midock.sh"),"."),(0,r.kt)("p",{parentName:"div"},"This will mount the current directory when running the script under ",(0,r.kt)("inlineCode",{parentName:"p"},"/mnt")," as\nread-only. If you also wish to write data to the same directory then this can\nbe done by removing the ",(0,r.kt)("inlineCode",{parentName:"p"},":ro")," part. If you wish to mount the directory where\nthe Bash script is located then replace the ",(0,r.kt)("inlineCode",{parentName:"p"},"-v $(pwd):/mnt:ro")," with\n",(0,r.kt)("inlineCode",{parentName:"p"},'-v "${RELDIR}:/mnt:ro"'),"."),(0,r.kt)("p",{parentName:"div"},"If you need to run Docker with ",(0,r.kt)("inlineCode",{parentName:"p"},"sudo"),", then either prepend the ",(0,r.kt)("inlineCode",{parentName:"p"},"docker run"),"\nin the script with ",(0,r.kt)("inlineCode",{parentName:"p"},"sudo")," or instead run ",(0,r.kt)("inlineCode",{parentName:"p"},"sudo ./midock.sh"),".")),(0,r.kt)(h,{value:"dockerlaunch-powershell",label:"PowerShell",default:!0,mdxType:"TabItem"},(0,r.kt)("p",{parentName:"div"},"In PowerShell on Windows, launch the image using the following script as\n",(0,r.kt)("inlineCode",{parentName:"p"},".\\midock.ps1"),":"),(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre",className:"language-powershell",metastring:'title="midock.ps1"',title:'"midock.ps1"'},'$Image = "mikinglang/workshop:2022-1"\n$ContainerName = "hello-miking"\n\n# Mount Directory that you are running the script from\n$MountDir = Get-Location\n\n# Uncomment this to use the relative location to script instead\n#$MountDir = $PSScriptRoot\n\ndocker run --rm -it `\n           --name $ContainerName `\n           --hostname $ContainerName `\n           -v "${MountDir}:/mnt:ro" `\n           $Image bash\n')),(0,r.kt)("p",{parentName:"div"},"This will mount the current directory when running the script under ",(0,r.kt)("inlineCode",{parentName:"p"},"/mnt")," as\nread-only. If you also wish to write data to the same directory then this can\nbe done by removing the ",(0,r.kt)("inlineCode",{parentName:"p"},":ro")," part. If you wish to mount the directory where\nthe PowerShell script is located then you can uncomment the line ",(0,r.kt)("inlineCode",{parentName:"p"},"$MountDir =\n$PSScriptRoot"),"."))))),(0,r.kt)("p",null,"Here is an example MExpr program that you can use to verify your installation.\nSave this as ",(0,r.kt)("inlineCode",{parentName:"p"},"fib.mc")," and compile it with ",(0,r.kt)("inlineCode",{parentName:"p"},"mi compile fib.mc"),". Try running it\nas ",(0,r.kt)("inlineCode",{parentName:"p"},"./fib 50"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mc",metastring:'title="fib.mc"',title:'"fib.mc"'},'/- These are from the Miking standard library -/\ninclude "common.mc"\ninclude "string.mc"\n\n/- A string is a sequence of chars! -/\nlet s1: String = "foo"\nlet s2: [Char] = [\'f\', \'o\', \'o\']\nutest s1 with s2\n\n/- Fibonacci function -/\nlet fib = lam n.\n  recursive let work = lam i. lam curr. lam next.\n    if eqi i n then\n      curr\n    else\n      work (addi i 1) next (addi curr next)\n  in\n  work 0 0 1\n\nmexpr\n\nif neqi (length argv) 2 then\n  printLn (join ["usage: ", get argv 0, " N"]);\n  exit 1\nelse -- continue\n\nlet printFib = lam n.\n  printLn (join ["fib ", int2string n, " = ", int2string (fib n)])\nin\n\nloop (string2int (get argv 1)) printFib\n')),(0,r.kt)("h2",{id:"install-syntax-highlighter"},"Install Syntax Highlighter"),(0,r.kt)("p",null,"Syntax highlighting is available for Miking in the editors Vim, Emacs, VSCode,\nand Sublime Text. See the corresponding tab below for information about how to\ninstall Miking syntax highlighting for your editor."),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"Choose your editor")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)(d,{mdxType:"Tabs"},(0,r.kt)(h,{value:"syntax-vim",label:"Vim",default:!0,mdxType:"TabItem"},(0,r.kt)("p",{parentName:"div"},"See the miking-vim GitHub repository:\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/miking-lang/miking-vim"},"Link"))),(0,r.kt)(h,{value:"syntax-emacs",label:"Emacs",default:!0,mdxType:"TabItem"},(0,r.kt)("p",{parentName:"div"},"See the miking-emacs GitHub repository:\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/miking-lang/miking-emacs"},"Link"))),(0,r.kt)(h,{value:"syntax-vscode",label:"VSCode",default:!0,mdxType:"TabItem"},(0,r.kt)("p",{parentName:"div"},"Download the vsix file from the GitHub releases page and install it using the\nterminal:"),(0,r.kt)("pre",{parentName:"div"},(0,r.kt)("code",{parentName:"pre"},"curl -OL https://github.com/miking-lang/miking-vscode/releases/download/1.0.0/miking-core-vscode-1.0.0.vsix\ncode --install-extension miking-core-vscode-1.0.0.vsix\n")),(0,r.kt)("p",{parentName:"div"},"If you prefer to build it from source, see the GitHub page for more\ninformation: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/miking-lang/miking-vscode"},"Link"))),(0,r.kt)(h,{value:"syntax-sublime",label:"Sublime Text",default:!0,mdxType:"TabItem"},(0,r.kt)("p",{parentName:"div"},"Miking syntax highlighting is available on Package Control as\n",(0,r.kt)("a",{parentName:"p",href:"https://packagecontrol.io/packages/Miking%20Syntax%20Highlighting"},"Miking Syntax Highlighting"),"."),(0,r.kt)("p",{parentName:"div"},"Assuming that you have Package Control installed, open the command palette by\nCtrl+Shift+P and select the ",(0,r.kt)("em",{parentName:"p"},"Package Control: Install Package"),". Then choose\nsearch for ",(0,r.kt)("em",{parentName:"p"},"Miking Syntax Highlighting")," and install the package. You might have\nto reload any MCore files that you have open."))))))}N.isMDXComponent=!0}}]);